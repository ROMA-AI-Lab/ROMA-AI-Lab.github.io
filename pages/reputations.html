<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1, viewport-fit=cover" name="viewport"/>
    <title>Recognition | ROMA Lab</title>
    <meta content="All collected quotes from international peers." name="description"/>
    <link href="../assets/favicon.svg" rel="icon"/>
    <link href="../css/styles.css" rel="stylesheet"/>
    <style>
        header.simple {
            position: sticky;
            top: 0;
            z-index: 40;
            background: var(--panel);
            border-bottom: 1px solid var(--border)
        }

        header.simple .bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            padding: 12px 0
        }

        header.simple .brand {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 700
        }

        main {
            padding: 32px 0
        }

        .filters-row {
            display: flex;
            gap: 10px;
            flex-wrap: wrap
        }

        .filters-row input, .filters-row select {
            padding: 10px 12px;
            border-radius: 10px;
            border: 1px solid var(--border);
            background: var(--panel);
            color: var(--text)
        }
    </style>
</head>
<body>
<!-- ËΩªÈáèÈ°µÂ§¥ -->
<header class="simple">
    <div class="container bar">
        <div class="left">
            <a class="brand" href="../index.html#home">
                <svg aria-hidden="true" height="22" viewBox="0 0 64 64" width="22">
                    <path d="M14 46 L32 18 L50 46 M24 46 L32 34 L40 46"
                          fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="5"/>
                </svg>
                <span>ROMA Lab</span>
            </a>
            <span class="meta">All Recognition</span>
        </div>
        <div class="right">
            <button class="btn ghost" id="theme-toggle" title="Toggle theme">üåì</button>
            <a class="btn" href="../index.html#reputation">Back to Home</a>
        </div>
    </div>
</header>
<main class="container" style="padding-top:32px">
    <div class="section-head">
        <div>
            <h2>Peer Recognition</h2>
            <p class="section-desc">All collected quotes from international peers.</p>
        </div>
    </div>

    <div aria-live="polite" class="grid people" id="repute-all-grid"></div>
</main>

<!-- Footer -->
<footer role="contentinfo">
    <div class="container foot">
        <div class="foot-left">
            <svg aria-hidden="true" height="22" viewBox="0 0 64 64" width="22"><path d="M14 46 L32 18 L50 46 M24 46 L32 34 L40 46" fill="none" stroke="currentColor" stroke-linecap="round"
                                                                                     stroke-width="5"/></svg>
            <small>
                ¬© <span id="year"></span> ROMA Lab. All rights reserved.
                Â§áÊ°àÂè∑Ôºö<a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener">Á≤§ICPÂ§á2025495736Âè∑</a>

                <img src="/assets/beian.png" height="40" width="36"/>
                <a href="https://beian.mps.gov.cn/#/query/webSearch?code=44030002008688" rel="noreferrer" target="_blank">Á≤§ÂÖ¨ÁΩëÂÆâÂ§á44030002008688Âè∑</a>
            </small>
        </div>
    </div>
    <button aria-label="Back to top" class="btn ghost hidden cta" id="to-top" title="Back to top">‚Üë</button>
</footer>


<script defer src="../js/main.js"></script>
<script src="pages.js"></script>
<script src="../js/pages-mediafx.js"></script>
<script>
    (async function(){
        const mount = document.getElementById('repute-all-grid');
        try{
            const r = await fetch('../data/reputation.json', { cache: 'no-store' });
            const j = r.ok ? await r.json() : { items: [] };
            const raw = Array.isArray(j.items) ? j.items : [];

            // ÂàÜÁ¶ªÔºöÊúâ year ÁöÑ„ÄÅÊó† year ÁöÑ
            const withYear = raw.filter(it => Number.isFinite(Number(it.year)));
            const withoutYear = raw.filter(it => !Number.isFinite(Number(it.year)));

            // Êúâ year ÁöÑÊåâÂπ¥‰ªΩÂÄíÂ∫èÔºõÊó† year ÁöÑ‰øùÊåÅ JSON ÂéüÂßãÈ°∫Â∫è
            withYear.sort((a,b)=>(Number(b.year)||0)-(Number(a.year)||0));

            // ÁõÆÊ†áÈ°∫Â∫èÔºöÂÖà withYearÔºåÂÜç withoutYear
            const items = withYear.concat(withoutYear);

            const html = items.map(it => {
                const meta = [it.role || '', (it.year ?? '')].filter(Boolean).join(' ¬∑ ');
                const honors = Array.isArray(it.honor) && it.honor.length
                    ? `<ul class="repute-honors">${it.honor.map(h=>`<li class="chip chip--honor">${h}</li>`).join('')}</ul>`
                    : '';
                const avatar = it.avatar
                    ? `<img src="${it.avatar}" alt="${it.name||'Peer'}" data-fallback="avatar">`
                    : `<div class="avatar placeholder" aria-label="${it.name||'Peer'}"></div>`;

                return `
        <article class="repute-card card fx" role="listitem">
          <div class="repute-media media-fx">${avatar}</div>
          <div class="repute-body">
            <div class="repute-topline">
              <span class="repute-name">${it.name||''}</span>
              <span class="repute-meta">${meta}</span>
            </div>
            ${honors}
            <div class="repute-quote prose">${it.quote_html||''}</div>
          </div>
        </article>`;
            }).join('');

            mount.innerHTML = html;

            // Âç†‰Ωç‰∏éÊäõÂÖâ
            if (typeof applyImageFallbacks === 'function') applyImageFallbacks(mount);
        }catch(e){
            console.error('[repute] load all failed', e);
        }
    })();
</script>

<!-- BEGIN PATCH: render script in pages/reputation(s).html -->
<!--<script>-->
<!--    (async function () {-->
<!--        const mount = document.getElementById('repute-all-grid');-->
<!--        try {-->
<!--            const r = await fetch('../data/reputation.json', {cache: 'no-store'});-->
<!--            const j = r.ok ? await r.json() : {items: []};-->


<!--            //   const items = (j.items||[]).slice().sort((a,b)=>(b.year||0)-(a.year||0));-->
<!--            //-->
<!--            //   const html = items.map(it => {-->
<!--            //       const meta = [it.role||'', it.year||''].filter(Boolean).join(' ¬∑ ');-->
<!--            //       const avatar = it.avatar-->
<!--            //           ? `<img src="${it.avatar}" alt="${it.name}" data-fallback="avatar">`-->
<!--            //           : `<div class="avatar placeholder" aria-label="${it.name||'Peer'}"></div>`;-->
<!--            //       return `-->
<!--            // <article class="repute-card card fx">-->
<!--            //   <div class="repute-media media-fx">${avatar}</div>-->
<!--            //   <div class="repute-body">-->
<!--            //     <div class="repute-topline">-->
<!--            //       <span class="repute-name">${it.name||''}</span>-->
<!--            //       <span class="repute-meta">${meta}</span>-->
<!--            //     </div>-->
<!--            //     <div class="repute-quote prose">${it.quote_html||''}</div>-->
<!--            //   </div>-->
<!--            // </article>`;-->
<!--            //   }).join('');-->


<!--            const items = (j.items || []).slice().sort((a, b) => (b.year || 0) - (a.year || 0));-->

<!--            const html = items.map(it => {-->
<!--                const meta = [it.role || '', (it.year ?? '')].filter(Boolean).join(' ¬∑ ');-->
<!--                const honors = Array.isArray(it.honor) && it.honor.length-->
<!--                    ? `<ul class="repute-honors">${it.honor.map(h => `<li class="chip chip&#45;&#45;honor">${h}</li>`).join('')}</ul>`-->
<!--                    : '';-->
<!--                const avatar = it.avatar-->
<!--                    ? `<img src="${it.avatar}" alt="${it.name}" data-fallback="avatar">`-->
<!--                    : `<div class="avatar placeholder" aria-label="${it.name || 'Peer'}"></div>`;-->

<!--                return `-->
<!--    <article class="repute-card card fx">-->
<!--      <div class="repute-media media-fx">${avatar}</div>-->
<!--      <div class="repute-body">-->
<!--        <div class="repute-topline">-->
<!--          <span class="repute-name">${it.name || ''}</span>-->
<!--          <span class="repute-meta">${meta}</span>-->
<!--        </div>-->
<!--        ${honors}-->
<!--        <div class="repute-quote prose">${it.quote_html || ''}</div>-->
<!--      </div>-->
<!--    </article>`;-->
<!--            }).join('');-->


<!--            mount.innerHTML = html;-->

<!--            // ‚ë† ÂõæÁâáÂç†‰ΩçÔºö‰ΩøÁî® main.js ‰∏≠ÁöÑÂ∑•ÂÖ∑-->
<!--            if (typeof applyImageFallbacks === 'function') {-->
<!--                applyImageFallbacks(mount);-->
<!--            }-->

<!--            // ‚ë° Êï¥Âç°ÊäõÂÖâÔºöpages-mediafx.js Â∑≤Âú® init() ÈáåËá™Âä®Ë∞ÉÁî® polishReputation()-->
<!--            // Ëã•Áî®Êà∑ÊûÅÂ∞ëÂú∫ÊôØÁ¶ÅÁî®‰∫ÜËá™Âä® initÔºåÂèØÊâãÂä®ÂÜçËß¶Âèë‰∏ÄÊ¨°ÔºàÂπÇÁ≠âÔºâÔºö-->
<!--            if (typeof polishReputation === 'function') {-->
<!--                polishReputation();-->
<!--            }-->

<!--        } catch (e) {-->
<!--            mount.innerHTML = `<p class="section-desc">Failed to load reputation data.</p>`;-->
<!--            console.warn('[reputation list] load error:', e);-->
<!--        }-->
<!--    })();-->
<!--</script>-->
<!-- END PATCH -->


</body>
</html>
