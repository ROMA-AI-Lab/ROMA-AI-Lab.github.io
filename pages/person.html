<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Member Profile | ROMA Lab</title>
    <meta name="description" content="Individual profile page of a ROMA Lab member."/>
    <link rel="icon" href="../assets/favicon.svg"/>
    <link rel="stylesheet" href="../css/styles.css"/>
    <style>
        header.simple {position:sticky;top:0;z-index:40;background:var(--panel);border-bottom:1px solid var(--border)}
        header.simple .bar{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 0}
        header.simple .brand{display:flex;align-items:center;gap:8px;font-weight:700}
        main{padding:32px 0}
        #person-detail{max-width:900px;margin:0 auto}
        #person-detail .avatar{width:30%;max-width:680px;aspect-ratio: auto;border:1px solid var(--border);border-radius:12px}
        #person-detail h1{font-size:clamp(24px,3vw,32px)}
        #person-detail .tags{margin:10px 0}
        #person-detail .btn{padding:8px 12px;border-radius:10px}
        #person-detail h3{margin-top:18px}
    </style>
</head>
<body data-page="person">
<header class="simple">
    <div class="container bar">
        <div class="left">
            <a class="brand" href="../index.html#home" aria-label="Back to home">
                <svg width="22" height="22" viewBox="0 0 64 64" aria-hidden="true">
                    <path d="M14 46 L32 18 L50 46 M24 46 L32 34 L40 46"
                          stroke="currentColor" stroke-width="5" fill="none" stroke-linecap="round"/>
                </svg>
                <span>ROMA Lab</span>
            </a>
            <span class="meta">Member Profile</span>
        </div>
        <div class="right">
            <button id="theme-toggle" class="btn ghost" title="Toggle theme">ğŸŒ“</button>
            <a class="btn" href="./people.html" target="_self">All People</a>
        </div>
    </div>
</header>

<main>
    <div class="container">
        <div id="person-detail" class="card">
            <div class="body" id="person-detail-body">
                <!-- pages.js â†’ initPersonDetail() ä¼šæ³¨å…¥å†…å®¹ -->
            </div>
        </div>
    </div>
</main>


<!-- Footer -->
<footer role="contentinfo">
    <div class="container foot">
        <div class="foot-left">
            <svg aria-hidden="true" height="22" viewBox="0 0 64 64" width="22"><path d="M14 46 L32 18 L50 46 M24 46 L32 34 L40 46" fill="none" stroke="currentColor" stroke-linecap="round"
                                                                                     stroke-width="5"/></svg>
            <small>
                Â© <span id="year"></span> ROMA Lab. All rights reserved.
                å¤‡æ¡ˆå·ï¼š<a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener">ç²¤ICPå¤‡2025495736å·</a>

                <img src="/assets/beian.png" height="40" width="36"/>
                <a href="https://beian.mps.gov.cn/#/query/webSearch?code=44030002008688" rel="noreferrer" target="_blank">ç²¤å…¬ç½‘å®‰å¤‡44030002008688å·</a>
            </small>
        </div>
    </div>
    <button aria-label="Back to top" class="btn ghost hidden cta" id="to-top" title="Back to top">â†‘</button>
</footer>



<script src="pages.js"></script>
<script>
    /* Person page â€” enhance avatar image only (no card) */
    (function(){
        const root = document.getElementById('person-detail-body');
        if (!root) return;
        const hasHover = matchMedia('(hover: hover)').matches;

        function wrapMediaFx(img){
            if(!img || img.closest('.media-fx')) return;
            const box = document.createElement('div');
            box.className = 'media-fx avatar-frame';
            // ç»§æ‰¿ä½ åŸæœ‰çš„å®½é«˜/åœ†è§’ç”± CSS æ§åˆ¶ï¼Œè¿™é‡Œåªåšç»“æ„åŒ…è£¹
            img.parentNode.insertBefore(box, img);
            box.appendChild(img);

            if (hasHover){
                let raf = 0;
                box.addEventListener('mousemove', (e)=>{
                    const r = box.getBoundingClientRect();
                    const mx = ((e.clientX - r.left)/r.width)*100;
                    const my = ((e.clientY - r.top)/r.height)*100;
                    cancelAnimationFrame(raf);
                    raf = requestAnimationFrame(()=>{
                        box.style.setProperty('--mx', mx + '%');
                        box.style.setProperty('--my', my + '%');
                    });
                });
                box.addEventListener('mouseleave', ()=>{
                    box.style.removeProperty('--mx');
                    box.style.removeProperty('--my');
                });
            }
        }

        function enhance(){
            // pages.js æ³¨å…¥åå¸¸è§ç»“æ„ï¼š#person-detail .avatar img æˆ–ç›´æ¥ <img class="avatar">
            // ä¼˜å…ˆæ‰¾ #person-detail èŒƒå›´å†…çš„å¤´åƒ img
            const img = document.querySelector('#person-detail img.avatar, #person-detail .avatar img');
            if (img) wrapMediaFx(img);
        }

        // 1) ç«‹å³å°è¯•ï¼ˆæœ‰æ—¶æ³¨å…¥å·²å®Œæˆï¼‰
        enhance();

        // 2) ç›‘å¬å¼‚æ­¥æ³¨å…¥
        new MutationObserver(()=>enhance())
            .observe(root, {childList:true, subtree:true});
    })();
</script>


<script>
    document.getElementById('year').textContent = new Date().getFullYear();
</script>
</body>
</html>
